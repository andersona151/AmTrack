{% extends 'base.html' %}
{% block content %}
<div id="map"></div>
<script>
    const locations = [];
    for(iter = 0; iter < {{ count }}; iter++) {
        var temp = [{{ latitude }}[iter], {{ longitude }}[iter]];
        locations.push(temp);
    }


    function initMap() {
        const myLatLng = {lat: -33.90, lng: 151.16};

        const map = new google.maps.Map(document.getElementById('map'), {
            zoom: 11,
            center: myLatLng
        });

        let count;

        for (count = 0; count < locations.length; count++) {
            new google.maps.Marker({
                position: new google.maps.LatLng(locations[count][1], locations[count][2]),
                map: map,
                title: locations[count][0]
            });
        }
    }
</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDRBU0ObkI4xr-QqnDARMzx9xJHq8qWQ0s&callback=initMap">
</script>
{% endblock %}